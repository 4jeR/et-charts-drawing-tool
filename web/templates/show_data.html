{% extends "layout.html" %}
{% block content %}
<div class="row">
    <!-- MathJax equation -->
    {% if chart_id != -1 %}
        <div class="offset-6 pt-4" class="btn btn-lg btn-dark"><h2> # {{ chart_id }} </h2></div>
    {% endif %}
    
    <div class="col-md-12 pt-2">
        {% if coefs is defined and coefs[0] != '?' %}
            {% if model_name == 'Sinus' %}
                <h3>$$y = { {{ coefs[0] }}\sin{ ({{ coefs[1] }} x {% if coefs[2] < 0 %} + {{ -coefs[2] }} {% elif coefs[2] > 0 %} - {{ coefs[2] }} {% endif %} )} {% if coefs[3] < 0 %} {{ coefs[3] }} {% elif coefs[3] > 0 %} + {{ coefs[3] }} {% endif %}} $$</h3>
            {% elif model_name == 'Cosinus' %}
                <h3>$$y = { {{ coefs[0] }}\cos{ ({{ coefs[1] }} x {% if coefs[2] < 0 %} + {{ -coefs[2] }} {% elif coefs[2] > 0 %} - {{ coefs[2] }} {% endif %} )} {% if coefs[3] < 0 %} {{ coefs[3] }} {% elif coefs[3] > 0 %} + {{ coefs[3] }} {% endif %}} $$</h3>
            {% elif model_name == 'SquareRoot' %}
                <h3>$$y = { {{ coefs[0] }}\sqrt{ {{ coefs[1] }} x {% if coefs[2] < 0 %} + {{ -coefs[2] }} {% elif coefs[2] > 0 %} - {{ coefs[2] }} {% endif %} } {% if coefs[3] < 0 %} {{ coefs[3] }} {% elif coefs[3] > 0 %} + {{ coefs[3] }} {% endif %}} $$</h3>
            {% elif model_name == 'Exponential' %}
                <h3>$$y = { {{ coefs[0] }}e^{ {{ coefs[1] }} (x {% if coefs[2] < 0 %} + {{ -coefs[2]  }}) {% elif coefs[2] > 0 %} - {{ coefs[2] }}) {% else %} ) {% endif %}} } {% if  coefs[3] < 0 %} {{ coefs[3] }} {% elif coefs[3] > 0 %} + {{ coefs[3] }} {% endif %} $$</h3>
            {% elif model_name == 'SquareFunc' %}
                <h3>$$ y = { {{ coefs[0] }} ({x {% if coefs[1] < 0 %} + {{ -coefs[1] }} {% else %} - {{ coefs[1] }} {% endif %} })^2 {% if coefs[2] < 0 %} coefs[2] {% elif coefs[2] > 0 %} + {{ coefs[2] }} {% endif %}  } $$</h3>
            {% endif %}
        {% elif model_name == 'FileData' %}
            <h3 class="col-md-4 offset-4">Data from file {{ filename }} </h3>
        {% elif model_name == 'CustomEquation' and custom_equation is defined %}
            <h3> {{ custom_equation }} </h3>
        {% endif %}
    </div>
    <!-- Data table -->
    {% if records|length < 1 and chart_id == -1 %}
        <div class="col md-12">
            <h1>No records for this model, add data!</h1>
            <form action="{{ url_for('route_add_data', model_name=model_name) }}" method="POST">
                <input class="btn btn-danger col-md-2 offset-5" type="submit" value="Add data">
            </form>
        </div>
    {% else %}
    <div class="table-wrapper-scroll-y table-scrollbar col-md-3" position="fixed" id="charts-table">
        <table class="table table-striped table-dark">
            <thead>
                <tr>
                    {% if model_name != 'FileData' and chart_id != -1 %}
                    <td scope="row" >
                        <form action="{{ url_for('route_add_data', model_name=model_name) }}" method="POST">
                            <input class="btn btn-danger" type="submit" value="Add data">
                        </form>
                    </td>
                    <td scope="row">
                    </td>
                    <td scope="row">
                    </td>
                    {% endif %}
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th scope="row" text-align="center">
                        
                    </th>
                    <th scope="row" text-align="center">
                        {% if model_name == 'FileDataPoint' %}
                            x
                        {% endif %}
                    </th>
                    <th scope="row" text-align="center">
                        {% if model_name == 'FileDataPoint' %}
                            y
                        {% endif %}
                    </th>
                </tr>
                {% if model_name != 'FileDataPoint' %}
                    {% for chart in records %}
                        <tr>
                            
                            <td scope="row" align="center">
                                <form action="{{ url_for('route_delete_chart', model_name=model_name, chart_id=chart.id) }}" method="POST">
                                    <input class="btn btn-danger" type="submit" value="Delete">
                                </form>
                                <td scope="row">
                                    {{ chart.id }}
                                </td>
                            </td>
                            
                            <td scope="row" align="center">
                                <form action="{{ url_for('route_show_data', model_name=model_name, chart_id=chart.id) }}" method="POST">
                                    <input class="btn btn-info" type="submit" value="Select">
                                </form>
                                {% if model_name != 'CustomEquation' %}
                                <form action="{{ url_for('route_change_coefs', model_name=model_name, chart_id=chart.id) }}" method="POST">
                                    <input class="btn btn-warning" type="submit" value="Change">
                                </form>
                                {% endif %}
                            </td>
                        </tr>
                    {% endfor %}
                {% elif model_name == 'FileDataPoint' %}
                    {% for point in records %}
                        <tr>
                            <td scope="row">
                            </td>
                            <td scope="row">
                                {{ point.x }}
                            </td>
                            <td scope="row">
                                {{ point.y }}
                            </td>
                        </tr>
                    {% endfor %}
                {% endif %}
            </tbody>
        </table>
    </div>
    {% endif %}
    {% if chart_id == -1 and records|length > 0 and model_name != 'FileDataPoint' %}
    <div class="col-md-5 offset-1">
        <h1>Select chart to show</h1>
    </div>
    {% elif records|length > 0 %}
    <!-- records menu -->
    <div class="col-md-9">
        <div class="btn-group" role="group" aria-label="Basic example">
            <button id="btn-show-chart-matplotlib" type="button" class="btn btn-dark" class="btn btn-secondary" data-toggle="collapse" data-target="#card-matplotlib" aria-expanded="false" aria-controls="card-matplotlib">Matplotlib</button>
            <button id="btn-show-chart-seaborn" type="button" class="btn btn-dark" class="btn btn-secondary" data-toggle="collapse" data-target="#card-seaborn" aria-expanded="false" aria-controls="card-seaborn">Seaborn</button>
            <button id="btn-show-chart-bokeh" type="button" class="btn btn-dark" class="btn btn-secondary" data-toggle="collapse" data-target="#card-bokeh" aria-expanded="false" aria-controls="card-bokeh">Bokeh</button>
            <button id="btn-show-chart-plotly" type="button" class="btn btn-dark" class="btn btn-secondary" data-toggle="collapse" data-target="#card-plotly" aria-expanded="false" aria-controls="card-plotly">Plotly</button>
            <button id="btn-show-chart-pygal" type="button" class="btn btn-dark" class="btn btn-secondary" data-toggle="collapse" data-target="#card-pygal" aria-expanded="false" aria-controls="card-pygal">Pygal</button>
        </div>
        <!-- Matplotlib cards -->
        <div class="collapse" id="card-matplotlib">
            <div class="row card-group bg-dark text-white">
                <div class="card col-md-8 text-primary bg-dark border-danger border-danger">
                    <div class="card-body text-white bg-dark" id="card-matplotlib-ss">
                        <img src="{{ url_for('route_plot_matplotlib', model_name=model_name, options=matplotlib_options, chart_id=chart_id) }}">
                    </div>
                </div>
                <div class="card col-md-4 text-primary bg-dark border-danger border-danger" id="matplotlib-right">
                    <div class="card-body text-white bg-dark">
                        {% if chart_id == -1 and model_name == "FileDataPoint" %}
                            <form class="form-horizontal col-md-12" method="POST" action="{{ url_for('route_change_options', library_name='matplotlib', model_name=model_name) }}">
                        {% else %}
                        <form class="form-horizontal col-md-12" method="POST" action="{{ url_for('route_change_options', library_name='matplotlib', model_name=model_name, chart_id=chart_id) }}">
                        {% endif %}
                            {% if matplotlib_form is defined %}
                                {{ matplotlib_form.hidden_tag() }}
                                <div class="form-group">
                                    <b>{{ matplotlib_form.title.label(for="Title: ") }}</b>
                                    {{ matplotlib_form.title(id="title") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ matplotlib_form.x_label.label(for="X label: ") }}</b>
                                    {{ matplotlib_form.x_label(id="x_label") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ matplotlib_form.y_label.label(for="Y label: ") }}</b>
                                    {{ matplotlib_form.y_label(id="y_label") }}
                                </div>
                                <div class="form-group" id="option-matplotlib-bar" >
                                    <b>{{ matplotlib_form.flag_bar_plot.label(for="Bar plot:") }}</b>
                                    {{ matplotlib_form.flag_bar_plot(id="flag_bar_plot") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ matplotlib_form.color.label(for="Line color") }}</b>
                                    {{ matplotlib_form.color(id="color") }}
                                </div>
                                <div class="form-group hidden" id="option-matplotlib-outline-color">
                                    <b>{{ matplotlib_form.outline_color.label(for="outline_color") }}</b>
                                    {{ matplotlib_form.outline_color(id="outline_color") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ matplotlib_form.bg_color.label(for="Background color: ") }}</b>
                                    {{ matplotlib_form.bg_color(id="bg_color") }}
                                </div>
                                <div class="form-group" id="option-matplotlib-scatter" >
                                    <b>{{ matplotlib_form.flag_scatter_plot.label(for="Scatter plot:") }}</b>
                                    {{ matplotlib_form.flag_scatter_plot(id="flag_scatter_plot") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ matplotlib_form.line_width.label(for="Line width:") }}</b>
                                    {{ matplotlib_form.line_width(id="line_width") }}
                                </div>
                                <div class="form-group" id="option-matplotlib-line-style">
                                    <b>{{ matplotlib_form.line_style.label(for="Line style:") }}</b>
                                    {{ matplotlib_form.line_style(id="line_style") }}
                                </div>
                                <div class="form-group" id="option-matplotlib-marker">
                                    <b>{{ matplotlib_form.marker.label(for="Marker") }}</b>
                                    {{ matplotlib_form.marker(id="marker") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ matplotlib_form.flag_show_grid.label(for="Grid:") }}</b>
                                    {{ matplotlib_form.flag_show_grid(id="flag_show_grid") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ matplotlib_form.flag_logscale_x.label(for="Log scale X:") }}</b>
                                    {{ matplotlib_form.flag_logscale_x(id="flag_logscale_x") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ matplotlib_form.flag_logscale_y.label(for="Log scale Y:") }}</b>
                                    {{ matplotlib_form.flag_logscale_y(id="flag_logscale_y") }}
                                </div>
                                
                            {% endif %}
                            <button type="submit" class="col-md-12 btn btn-info">Change chart</button>
                        </form>

                    </div>
                </div>
            </div>
            <div class="row text-white bg-dark mb-2">
                {% if model_name == "FileDataPoint" %}
                    <form class="col-md-3 offset-1 mt-2 mb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='matplotlib', save_img='0', save_src='1') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">code</button>
                    </form>
                    <form class="col-md-3 offset-1 mt-2 mb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='matplotlib', save_img='1', save_src='0') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">image</button>
                    </form>
                    <form class="col-md-3 offset-1 mt-2 mb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='matplotlib', save_img='1', save_src='1') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">code & image</button>
                    </form>
                {% else %}
                    <form class="col-md-3 offset-1 mt-2 mb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='matplotlib', model_name=model_name, chart_id=chart_id, save_img='0', save_src='1') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">code</button>
                    </form>
                    <form class="col-md-3 offset-1 mt-2 mb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='matplotlib', model_name=model_name, chart_id=chart_id, save_img='1', save_src='0') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">image</button>
                    </form>
                    <form class="col-md-3 offset-1 mt-2 mb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='matplotlib', model_name=model_name, chart_id=chart_id, save_img='1', save_src='1') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">code & image</button>
                    </form>
                {% endif %}
            </div>
        </div>

        <!-- Seaborn cards -->
        <div class="collapse" id="card-seaborn">
            <div class="row card-group bg-dark text-white">
                <div class="card col-md-8 text-primary bg-dark border-danger">
                    <div class="card card-body text-white bg-dark" id="card-seaborn-ss">
                        <img src="{{ url_for('route_plot_seaborn', model_name=model_name, options=seaborn_options, chart_id=chart_id) }}">
                    </div>
                </div>
                <div class="card col-md-4 text-primary bg-dark border-danger" id="seaborn-right">
                    <div class="card-body text-white bg-dark">
                        {% if chart_id == -1 and model_name == "FileDataPoint" %}
                            <form class="form-horizontal col-md-12" method="POST" action="{{ url_for('route_change_options', library_name='seaborn', model_name=model_name) }}">
                        {% else %}
                            <form class="form-horizontal col-md-12" method="POST" action="{{ url_for('route_change_options', library_name='seaborn', model_name=model_name, chart_id=chart_id) }}">
                        {% endif %}
                            {% if seaborn_form is defined %}
                                {{ seaborn_form.hidden_tag() }}
                                <div class="form-group">
                                    <b>{{ seaborn_form.title.label(for="Title: ") }}</b>
                                    {{ seaborn_form.title(id="title") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ seaborn_form.x_label.label(for="X label: ") }}</b>
                                    {{ seaborn_form.x_label(id="x_label") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ seaborn_form.y_label.label(for="Y label: ") }}</b>
                                    {{ seaborn_form.y_label(id="y_label") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ seaborn_form.color.label(for="Line color") }}</b>
                                    {{ seaborn_form.color(id="color") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ seaborn_form.bg_color.label(for="Background color: ") }}</b>
                                    {{ seaborn_form.bg_color(id="bg_color") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ seaborn_form.line_width.label(for="Line width:") }}</b>
                                    {{ seaborn_form.line_width(id="line_width") }}
                                </div>
                                <div class="form-group" id="option-seaborn-line-style">
                                    <b>{{ seaborn_form.line_style.label(for="Line style:") }}</b>
                                    {{ seaborn_form.line_style(id="line_style") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ seaborn_form.marker.label(for="Marker") }}</b>
                                    {{ seaborn_form.marker(id="marker") }}
                                </div>
                                <div class="form-group" id="option-seaborn-scatter">
                                    <b>{{ seaborn_form.flag_scatter_plot.label(for="Scatter:") }}</b>
                                    {{ seaborn_form.flag_scatter_plot(id="flag_scatter_plot") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ seaborn_form.flag_show_grid.label(for="Grid:") }}</b>
                                    {{ seaborn_form.flag_show_grid(id="flag_show_grid") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ seaborn_form.flag_logscale_x.label(for="Log scale X:") }}</b>
                                    {{ seaborn_form.flag_logscale_x(id="flag_logscale_x") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ seaborn_form.flag_logscale_y.label(for="Log scale Y:") }}</b>
                                    {{ seaborn_form.flag_logscale_y(id="flag_logscale_y") }}
                                </div>
                                
                            {% endif %}
                            <button type="submit" class="col-md-12 btn btn-info">Change chart</button>
                        </form>
                    </div>
                </div>
            </div>
            <div class="row text-white bg-dark mb-2">
                {% if chart_id == -1 and model_name == "FileDataPoint" %}
                    <form class="col-md-3 offset-1 mt-2 mb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='seaborn', save_img='0', save_src='1') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">code</button>
                    </form>
                    <form class="col-md-3 offset-1 mt-2 mb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='seaborn', save_img='1', save_src='0') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">image</button>
                    </form>
                    <form class="col-md-3 offset-1 mt-2 mb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='seaborn', save_img='1', save_src='1') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">code & image</button>
                    </form>
                {% else %}
                    <form class="col-md-4 pt-2 pb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='seaborn', model_name=model_name, chart_id=chart_id, save_img='0', save_src='1') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">code</button>
                    </form>
                    <form class="col-md-4 pt-2 pb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='seaborn', model_name=model_name, chart_id=chart_id, save_img='1', save_src='0') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">image</button>
                    </form>
                    <form class="col-md-4 pt-2 pb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='seaborn', model_name=model_name, chart_id=chart_id, save_img='1', save_src='1') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">code & image</button>
                    </form>
                {% endif %}
            </div>
        </div>

        <!-- Bokeh cards -->
        <div class="collapse" id="card-bokeh">
            <div class="row card-group bg-dark text-white">
                <div class="card col-md-8 text-primary bg-dark border-danger">
                    <div class="card-body text-white bg-dark" id="card-bokeh-ss">
                        {{ div_bokeh | safe }}
                        {{ script_bokeh | safe }}
                    </div>
                </div>
                <div class="card col-md-4 text-primary bg-dark border-danger" id="bokeh-right">
                    <div class="card-body text-white bg-dark">
                        {% if chart_id == -1 and model_name == "FileDataPoint" %}
                            <form class="form-horizontal col-md-12" method="POST" action="{{ url_for('route_change_options', library_name='bokeh', model_name=model_name) }}">
                        {% else %}
                            <form class="form-horizontal col-md-12" method="POST" action="{{ url_for('route_change_options', library_name='bokeh', model_name=model_name, chart_id=chart_id) }}">
                        {% endif %}
                            {% if bokeh_form is defined %}
                                {{ bokeh_form.hidden_tag() }}
                                <div class="form-group">
                                    <b>{{ bokeh_form.title.label(for="Title: ") }}</b>
                                    {{ bokeh_form.title(id="title") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ bokeh_form.x_label.label(for="X label: ") }}</b>
                                    {{ bokeh_form.x_label(id="x_label") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ bokeh_form.y_label.label(for="Y label: ") }}</b>
                                    {{ bokeh_form.y_label(id="y_label") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ bokeh_form.color.label(for="Line color") }}</b>
                                    {{ bokeh_form.color(id="color") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ bokeh_form.bg_color.label(for="Background color: ") }}</b>
                                    {{ bokeh_form.bg_color(id="bg_color") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ bokeh_form.line_width.label(for="Line width:") }}</b>
                                    {{ bokeh_form.line_width(id="line_width") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ bokeh_form.line_style.label(for="Line style:") }}</b>
                                    {{ bokeh_form.line_style(id="line_style") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ bokeh_form.marker.label(for="Marker") }}</b>
                                    {{ bokeh_form.marker(id="marker") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ bokeh_form.flag_scatter_plot.label(for="Scatter:") }}</b>
                                    {{ bokeh_form.flag_scatter_plot(id="flag_scatter_plot") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ bokeh_form.flag_show_grid.label(for="Grid:") }}</b>
                                    {{ bokeh_form.flag_show_grid(id="flag_show_grid") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ bokeh_form.flag_logscale_x.label(for="Log scale X:") }}</b>
                                    {{ bokeh_form.flag_logscale_x(id="flag_logscale_x") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ bokeh_form.flag_logscale_y.label(for="Log scale Y:") }}</b>
                                    {{ bokeh_form.flag_logscale_y(id="flag_logscale_y") }}
                                </div>
                            {% endif %}
                            <button type="submit" class="col-md-12 btn btn-info">Change chart</button>
                        </form>
                    </div>
                </div>
            </div>
            <div class="row text-white bg-dark mb-2">
                {% if chart_id == -1 and model_name == "FileDataPoint" %}
                    <form class="col-md-3 offset-1 mt-2 mb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='bokeh', save_img='0', save_src='1') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">code</button>
                    </form>
                    <form class="col-md-3 offset-1 mt-2 mb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='bokeh', save_img='1', save_src='0') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">image</button>
                    </form>
                    <form class="col-md-3 offset-1 mt-2 mb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='bokeh', save_img='1', save_src='1') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">code & image</button>
                    </form>
                {% else %}
                    <form class="col-md-4 pt-2 pb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='bokeh', model_name=model_name, chart_id=chart_id, save_img='0', save_src='1') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">code</button>
                    </form>
                    <form class="col-md-4 pt-2 pb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='bokeh', model_name=model_name, chart_id=chart_id, save_img='1', save_src='0') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">image</button>
                    </form>
                    <form class="col-md-4 pt-2 pb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='bokeh', model_name=model_name, chart_id=chart_id, save_img='1', save_src='1') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">code & image</button>
                    </form>
                {% endif %}
            </div>
        </div>

        <!-- Plotly cards -->
        <div class="collapse" id="card-plotly">
            <div class="row card-group bg-dark text-white">
                <div class="card col-md-8 text-primary bg-dark border-danger">
                    <div class="card-body text-white bg-dark" id="card-plotly-ss">
                        {{ script_plotly | safe}}
                        {{ div_plotly | safe }}
                    </div>
                </div>
                <div class="card col-md-4 text-primary bg-dark border-danger" id="plotly-right">
                    <div class="card-body text-white bg-dark">
                        {% if chart_id == -1 and model_name == "FileDataPoint" %}
                            <form class="form-horizontal col-md-12" method="POST" action="{{ url_for('route_change_options', library_name='plotly', model_name=model_name) }}">
                        {% else %}
                        <form class="form-horizontal col-md-12" method="POST" action="{{ url_for('route_change_options', library_name='plotly', model_name=model_name, chart_id=chart_id) }}">
                        {% endif %}
                            {% if plotly_form is defined %}
                                {{ plotly_form.hidden_tag() }}
                                <div class="form-group">
                                    <b>{{ plotly_form.title.label(for="Title: ") }}</b>
                                    {{ plotly_form.title(id="title") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ plotly_form.x_label.label(for="X label: ") }}</b>
                                    {{ plotly_form.x_label(id="x_label") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ plotly_form.y_label.label(for="Y label: ") }}</b>
                                    {{ plotly_form.y_label(id="y_label") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ plotly_form.color.label(for="Line color") }}</b>
                                    {{ plotly_form.color(id="color") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ plotly_form.bg_color.label(for="Background color: ") }}</b>
                                    {{ plotly_form.bg_color(id="bg_color") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ plotly_form.line_width.label(for="Line width:") }}</b>
                                    {{ plotly_form.line_width(id="line_width") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ plotly_form.line_style.label(for="Line style:") }}</b>
                                    {{ plotly_form.line_style(id="line_style") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ plotly_form.marker.label(for="Marker") }}</b>
                                    {{ plotly_form.marker(id="marker") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ plotly_form.flag_scatter_plot.label(for="Scatter:") }}</b>
                                    {{ plotly_form.flag_scatter_plot(id="flag_scatter_plot") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ plotly_form.flag_show_grid.label(for="Grid:") }}</b>
                                    {{ plotly_form.flag_show_grid(id="flag_show_grid") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ plotly_form.flag_logscale_x.label(for="Log scale X:") }}</b>
                                    {{ plotly_form.flag_logscale_x(id="flag_logscale_x") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ plotly_form.flag_logscale_y.label(for="Log scale Y:") }}</b>
                                    {{ plotly_form.flag_logscale_y(id="flag_logscale_y") }}
                                </div>
                            {% endif %}
                            <button type="submit" class="col-md-12 btn btn-info">Change chart</button>
                        </form>
                    </div>
                </div>
            </div>  
            <div class="row text-white bg-dark mb-2">
                {% if chart_id == -1 and model_name == "FileDataPoint" %}
                    <form class="col-md-3 offset-1 mt-2 mb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='plotly', save_img='0', save_src='1') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">code</button>
                    </form>
                    <form class="col-md-3 offset-1 mt-2 mb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='plotly', save_img='1', save_src='0') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">image</button>
                    </form>
                    <form class="col-md-3 offset-1 mt-2 mb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='plotly', save_img='1', save_src='1') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">code & image</button>
                    </form>
                {% else %}
                    <form class="col-md-4 pt-2 pb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='plotly', model_name=model_name, chart_id=chart_id, save_img='0', save_src='1') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">code</button>
                    </form>
                    <form class="col-md-4 pt-2 pb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='plotly', model_name=model_name, chart_id=chart_id, save_img='1', save_src='0') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">image</button>
                    </form>
                    <form class="col-md-4 pt-2 pb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='plotly', model_name=model_name, chart_id=chart_id, save_img='1', save_src='1') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">code & image</button>
                    </form>
                {% endif %}
            </div>
        </div>

        <!-- Pygal cards -->
        <div class="collapse" id="card-pygal">
            <div class="row card-group bg-dark text-white">
                <div class="card col-md-8 text-primary bg-dark border-danger">
                    <div class="card-body text-white bg-dark" id="card-pygal-ss">
                        <embed type="image/svg+xml" src= {{ src_pygal | safe }} />
                    </div>
                </div>
                <div class="card col-md-4 text-primary bg-dark border-danger" id="pygal-right">
                    <div class="card-body text-white bg-dark">
                        {% if chart_id == -1 and model_name == "FileDataPoint" %}
                            <form class="form-horizontal col-md-12" method="POST" action="{{ url_for('route_change_options', library_name='pygal', model_name=model_name) }}">
                        {% else %}
                        <form class="form-horizontal col-md-12" method="POST" action="{{ url_for('route_change_options', library_name='pygal', model_name=model_name, chart_id=chart_id) }}">
                        {% endif %}
                        
                            {% if pygal_form is defined %}
                                {{ pygal_form.hidden_tag() }}
                                <div class="form-group">
                                    <b>{{ pygal_form.title.label(for="Title: ") }}</b>
                                    {{ pygal_form.title(id="title") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ pygal_form.y_label.label(for="Y label: ") }}</b>
                                    {{ pygal_form.y_label(id="y_label") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ pygal_form.color.label(for="Line color") }}</b>
                                    {{ pygal_form.color(id="color") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ pygal_form.bg_color.label(for="Background color: ") }}</b>
                                    {{ pygal_form.bg_color(id="bg_color") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ pygal_form.line_width.label(for="Line width:") }}</b>
                                    {{ pygal_form.line_width(id="line_width") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ pygal_form.line_style.label(for="Line style:") }}</b>
                                    {{ pygal_form.line_style(id="line_style") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ pygal_form.marker.label(for="Marker") }}</b>
                                    {{ pygal_form.marker(id="marker") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ pygal_form.flag_scatter_plot.label(for="Scatter:") }}</b>
                                    {{ pygal_form.flag_scatter_plot(id="flag_scatter_plot") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ pygal_form.flag_show_grid.label(for="Grid:") }}</b>
                                    {{ pygal_form.flag_show_grid(id="flag_show_grid") }}
                                </div>
                                <div class="form-group">
                                    <b>{{ pygal_form.flag_logscale_y.label(for="Log scale Y:") }}</b>
                                    {{ pygal_form.flag_logscale_y(id="flag_logscale_y") }}
                                </div>
                            {% endif %}
                            <button type="submit" class="col-md-12 btn btn-info">Change chart</button>
                        </form>
                    </div>
                </div>
            </div>
            <div class="row text-white bg-dark mb-2">
                {% if chart_id == -1 and model_name == "FileDataPoint" %}
                    <form class="col-md-3 offset-1 mt-2 mb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='pygal', save_img='0', save_src='1') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">code</button>
                    </form>
                    <form class="col-md-3 offset-1 mt-2 mb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='pygal', save_img='1', save_src='0') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">image</button>
                    </form>
                    <form class="col-md-3 offset-1 mt-2 mb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='pygal', save_img='1', save_src='1') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">code & image</button>
                    </form>
                {% else %}
                    <form class="col-md-4 pt-2 pb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='pygal', model_name=model_name, chart_id=chart_id, save_img='0', save_src='1') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">code</button>
                    </form>
                    <form class="col-md-4 pt-2 pb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='pygal', model_name=model_name, chart_id=chart_id, save_img='1', save_src='0') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">image</button>
                    </form>
                    <form class="col-md-4 pt-2 pb-2" method="GET" action="{{ url_for('route_download_src_img', library_name='pygal', model_name=model_name, chart_id=chart_id, save_img='1', save_src='1') }}">
                        <button type="submit" class="col-md-12 btn btn-danger text-light">code & image</button>
                    </form>
                {% endif %}
            </div>
        </div>
    </div>
    {% endif %}
</div>

<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-2.0.1.min.js" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.0.1.min.js" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.0.1.min.js" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-api-2.0.1.min.js" crossorigin="anonymous"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
{% endblock content %}