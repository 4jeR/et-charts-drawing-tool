{% extends "layout.html" %}
{% block content %}

<div class="row">
    <div class="btn-group col-md-12" role="group" aria-label="Basic example">
        <button type="button" class="btn btn-dark" class="btn btn-secondary" data-toggle="collapse" aria-expanded="false" aria-controls="card-matplotlib">Matplotlib</button>
        <button type="button" class="btn btn-dark" class="btn btn-secondary" data-toggle="collapse" aria-expanded="false" aria-controls="card-seaborn">Seaborn</button>
        <button type="button" class="btn btn-dark" class="btn btn-secondary" data-toggle="collapse" aria-expanded="false" aria-controls="card-bokeh">Bokeh</button>
        <button type="button" class="btn btn-dark" class="btn btn-secondary" data-toggle="collapse" aria-expanded="false" aria-controls="card-plotly">Plotly</button>
        <button type="button" class="btn btn-dark" class="btn btn-secondary" data-toggle="collapse" aria-expanded="false" aria-controls="card-pygal">Pygal</button>
    </div>
    <form action="{{ url_for('route_add_data', model_name=model_name) }}" method="POST">
        <input type="submit" class="btn btn-danger btn-lg" value="Add data"></input>
    </form> 
    <h1 class="col-md-12">{{ model_name }} data</h1>
    <div class="table-wrapper-scroll-y table-scrollbar col-md-6">
        
        <table class="table table-striped table-dark">
            <thead>
                <tr>
                    <th scope="col">
                        <form action="{{ url_for('route_delete_all_points', model_name=model_name) }}" method="POST">
                            <input class="btn btn-danger" type="submit" value="Delete all">
                        </form>
                    </th>
                    <th scope="col">
                        x
                    </th>
                    <th scope="col">
                        y
                    </th>
                </tr>
            </thead>
            <tbody>
                {% for point in points %}
                <tr>
                    <td scope="row">
                        <form action="{{ url_for('route_delete_point', model_name=model_name, point_id=point.id) }}" method="POST">
                            <input class="btn btn-danger" type="submit" value="Delete">
                        </form>
                    </td>
                    <td scope="row">
                        {{ point.x }}
                    </td>
                    <td scope="row">
                        {{ point.y }}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="col-md-6">
        <div class="btn-group" role="group" aria-label="Basic example">
            <button type="button" class="btn btn-dark" class="btn btn-secondary" data-toggle="collapse" data-target="#card-matplotlib" aria-expanded="false" aria-controls="card-matplotlib">Matplotlib</button>
            <button type="button" class="btn btn-dark" class="btn btn-secondary" data-toggle="collapse" data-target="#card-seaborn" aria-expanded="false" aria-controls="card-seaborn">Seaborn</button>
            <button type="button" class="btn btn-dark" class="btn btn-secondary" data-toggle="collapse" data-target="#card-bokeh" aria-expanded="false" aria-controls="card-bokeh">Bokeh</button>
            <button type="button" class="btn btn-dark" class="btn btn-secondary" data-toggle="collapse" data-target="#card-plotly" aria-expanded="false" aria-controls="card-plotly">Plotly</button>
            <button type="button" class="btn btn-dark" class="btn btn-secondary" data-toggle="collapse" data-target="#card-pygal" aria-expanded="false" aria-controls="card-pygal">Pygal</button>
        </div>
        <div class="collapse" id="card-matplotlib">
            <div class="card card-body">
                <img src="{{ url_for('route_plot_mplib', model_name=model_name) }}">
                <form method="GET" action="{{ url_for('route_download_mplib', model_name=model_name, filename='mplib_' + model_name + '.png') }}">
                    <button type="submit" class="col-md-4 offset-4 btn btn-dark" class="btn btn-secondary">Download image and source code.</button>
                </form>
            </div>
        </div>
        <div class="collapse" id="card-seaborn">
            <div class="card card-body">
                <img src="{{ url_for('route_plot_seaborn', model_name=model_name) }}">
            </div>
        </div>
        <div class="collapse" id="card-bokeh">
            <div class="card card-body">
                {{ div_bokeh | safe }}
                <form method="GET" action="{{ url_for('route_download_bokeh', model_name=model_name, filename='bokeh' + model_name + '.png') }}">
                    <button type="submit" class="col-md-4 offset-4 btn btn-dark" class="btn btn-secondary">Download png</button>
                </form>
                {{ script_bokeh | safe }}
            </div>
        </div>
        <div class="collapse" id="card-plotly">
            <div class="card card-body">
                {{ script_plotly | safe}}
                {{ div_plotly | safe }}
            </div>
        </div>
        <div class="collapse" id="card-pygal">
            <div class="card card-body">
                <embed type="image/svg+xml" src= {{ src_pygal | safe }} />
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" src="../js/download.js"></script>
<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-2.0.1.min.js" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.0.1.min.js" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.0.1.min.js" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-api-2.0.1.min.js" crossorigin="anonymous"></script>
{% endblock content %}