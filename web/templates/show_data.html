{% extends "layout.html" %}
{% block content %}

<div class="row">
    <div class="col-md-12" class="btn btn-lg btn-dark">
        {% if model_name == 'Sinus' %}
            <h3>$$y = { {{ coefs[0] }}\sin{ ({{ coefs[1] }} x - {{ coefs[2] }})} + {{ coefs[3] }}}$$</h3>
        {% elif model_name == 'Cosinus' %}
            <h3>$$y = { {{ coefs[0] }}\cos{ ({{ coefs[1] }} x - {{ coefs[2] }})} + {{ coefs[3] }}}$$</h3>
        {% elif model_name == 'SquareRoot' %}
            <h3>$$y = { {{ coefs[0] }}\sqrt{ {{ coefs[1] }} x - {{ coefs[2] }}} + {{ coefs[3] }}}$$</h3>
        {% elif model_name == 'FileDataPoint' %}
            <h3>Data from file {{ filename }} </h3>
        {% endif %}
    </div>
    <div class="table-wrapper-scroll-y table-scrollbar col-md-6" position="fixed">
        
        <table class="table table-striped table-dark">
            <thead>
                <tr>
                    <!--

                    <th scope="col">
                        <form action="{{ url_for('route_add_data', model_name=model_name) }}" method="POST">
                            <input class="btn btn-danger" type="submit" value="Add data">
                        </form>
                        
                    </th>
                    -->
                    <th scope="col" text-align="center">
                        <form action="{{ url_for('route_delete_all_points', model_name=model_name) }}" method="POST">
                            <input class="btn btn-danger" type="submit" value="Delete all">
                        </form>
                    </th>
                    <th scope="col" text-align="center">
                        x
                    </th>
                    <th scope="col" text-align="center">
                        y
                    </th>
                </tr>
            </thead>
            <tbody>
                {% if points|length > 0 %}
                {% for point in points %}
                    <tr>
                        <td scope="row" align="center">
                            <form action="{{ url_for('route_delete_point', model_name=model_name, point_id=point.id) }}" method="POST">
                                <input class="btn btn-danger" type="submit" value="Delete">
                            </form>
                        </td>
                        <td scope="row">
                            {{ point.x }}
                        </td>
                        <td scope="row">
                            {{ point.y }}
                        </td>
                    </tr>
                {% endfor %}
                {% else %}
                    <tr>
                        <td scope="row" >
                            {% if model_name=='FileDataPoint' %}
                                <form action="{{ url_for('route_add_data_from_file') }}" method="POST">
                                    <input class="btn btn-danger" type="submit" value="Add data">
                                </form>  
                            {% else %}
                                <form action="{{ url_for('route_add_data', model_name=model_name) }}" method="POST">
                                    <input class="btn btn-danger" type="submit" value="Add data">
                                </form>
                            {% endif %}
                        </td>
                        <td scope="row">
                            N/A
                        </td>
                        <td scope="row">
                            N/A
                        </td>
                    </tr>
                {% endif %}
            </tbody>
        </table>
    </div>
    <div class="col-md-6">
        <div class="btn-group" role="group" aria-label="Basic example">
            <button type="button" class="btn btn-dark" class="btn btn-secondary" data-toggle="collapse" data-target="#card-matplotlib" aria-expanded="false" aria-controls="card-matplotlib">Matplotlib</button>
            <button type="button" class="btn btn-dark" class="btn btn-secondary" data-toggle="collapse" data-target="#card-seaborn" aria-expanded="false" aria-controls="card-seaborn">Seaborn</button>
            <button type="button" class="btn btn-dark" class="btn btn-secondary" data-toggle="collapse" data-target="#card-bokeh" aria-expanded="false" aria-controls="card-bokeh">Bokeh</button>
            <button type="button" class="btn btn-dark" class="btn btn-secondary" data-toggle="collapse" data-target="#card-plotly" aria-expanded="false" aria-controls="card-plotly">Plotly</button>
            <button type="button" class="btn btn-dark" class="btn btn-secondary" data-toggle="collapse" data-target="#card-pygal" aria-expanded="false" aria-controls="card-pygal">Pygal</button>
        </div>
        <div class="collapse" id="card-matplotlib">
            <div class="card card-body text-white bg-dark">
                <img src="{{ url_for('route_plot_mplib', model_name=model_name) }}">
                <form method="GET" action="{{ url_for('route_download_mplib', model_name=model_name, filename='mplib_' + model_name + '.png') }}">
                    <button type="submit" class="col-md-4 offset-4 btn btn-info" >Download image and source code.</button>
                </form>
            </div>
        </div>
        <div class="collapse" id="card-seaborn">
            <div class="card card-body text-white bg-dark" >
                <img src="{{ url_for('route_plot_seaborn', model_name=model_name) }}">
                <form method="GET" action="{{ url_for('route_download_seaborn', model_name=model_name, filename='seaborn_' + model_name + '.png') }}">
                    <button type="submit" class="col-md-4 offset-4 btn btn-info">Download image and source code.</button>
                </form>
            </div>
        </div>
        <div class="collapse" id="card-bokeh">
            <div class="card card-body text-white bg-dark">
                {{ div_bokeh | safe }}
                <form method="GET" action="{{ url_for('route_download_bokeh', model_name=model_name, filename='bokeh' + model_name + '.png') }}">
                    <button type="submit" class="col-md-4 offset-4 btn btn-info">Download png</button>
                </form>
                {{ script_bokeh | safe }}
            </div>
        </div>
        <div class="collapse" id="card-plotly">
            <div class="card card-body text-white bg-dark">
                {{ script_plotly | safe}}
                {{ div_plotly | safe }}
            </div>
        </div>
        <div class="collapse" id="card-pygal">
            <div class="card card-body text-white bg-dark">
                <embed type="image/svg+xml" src= {{ src_pygal | safe }} />
            </div>
        </div>
    </div>
</div>


<script type="text/javascript" src="../js/download.js"></script>
<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-2.0.1.min.js" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.0.1.min.js" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.0.1.min.js" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-api-2.0.1.min.js" crossorigin="anonymous"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
{% endblock content %}